<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bunnies Chat</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <style>
        body {
            /* Additional styles for the body */
            background-color: #6E96DB;
        }
    </style>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./components/cbbl.css">
</head>

<body class="vh-100">
    <img src="images/roundedHeart.png" class="position-absolute" style="height:20%; transform: rotate(11deg); left: 89%; top: 30%">
    <img src="images/cherry.png" class="position-absolute top-50" style="height: 20%; transform: rotate(-20deg); z-index: 2;">
    <img src="images/bubbles.png" class="position-absolute" style="height:20%; top: 45%">
    <div class="container d-flex flex-column align-items-center justify-content-evenly w-100 h-100">

        <button class="rounded-pill p-2 align-self-start" style="font-family: 'JetBrains Mono';" onclick="navigateHome()">Back Home</button>
        <div id="msgBox" class="border rounded w-100" style="background-color: rgba(255, 255, 255, 0.5); height: 63%; overflow-y:scroll"></div>
        <input id="msg" placeholder="Input your text here" class="px-4 container border rounded-pill"
            style="background-color: rgba(255, 255, 255); height: 7%; font-family: 'JetBrains Mono';"></input>
        <!-- <div class="cbbl">
            <span>Hello, how are you!</span>
        </div> -->

    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script>
    function navigateHome() {
        window.location.href = "./";
    }

    function addMsg(msg, isLeft){
        let box = document.getElementById('msgBox');
        let cont = document.createElement('div');
        cont.className = "container d-flex flex-column align-items-center justify-content-evenly w-100 m-0";
        if (isLeft){
            let div = document.createElement('div');
            div.className = "cbbl align-self-start";
            div.innerHTML = `<p style="font-size:20px; margin:0;">${msg}</p>`;
            cont.appendChild(div);
        } else {
            let div = document.createElement('div');
            div.className = "cbbl align-self-end";
            div.innerHTML = `<p  style="font-size:20px; margin:0;">${msg}</p>`;
            cont.appendChild(div);
        }
        box.appendChild(cont);
        scrollToBottom();
    }

    const scrollToBottom = () => {
        let box = document.getElementById('msgBox');
        box.scrollTop = box.scrollHeight;
    }


    function submitMsg() {
        let msg = document.getElementById('msg').value;
        input.value = "";
        console.log(msg);
        const words = msg.split(' '); // Split input into words
        let sanitized = [];
        for (let x= 0; x < words.length; x++) {
            if (isBlacklisted(words[x])) {
                sanitized.push("****");
            } else {
                sanitized.push(words[x]);
            }
        }
        sanitized = sanitized.join(' ');
        addMsg(sanitized, false);
    }

    // Get the input field
    var input = document.getElementById("msg");

    // Execute a function when the user presses a key on the keyboard
    input.addEventListener("keypress", function(event) {
        // If the user presses the "Enter" key on the keyboard
        if (event.key === "Enter") {
            // Cancel the default action, if needed
            event.preventDefault();
            // Trigger the button element with a click
            submitMsg();
        }
    });

    const blacklistWords = [
        "abuse",
        "bully",
        "harass",
        "threaten",
        "hate",
        "racist",
        "sexist",
        // Add more words as needed
    ];

    const randomMessages = [
        "Spread kindness like confetti.",
        "Your online actions have real-world consequences.",
        "Make the internet a safer place for everyone.",
        "Be the reason someone smiles today.",
        "You are stronger than you think.",
        "Stand tall, stand proud. You are amazing!",
        "Your uniqueness is your strength.",
        "In a world where you can be anything, be kind.",
        "Don't be a bystander; stand up against bullying.",
        "Embrace your flaws; they make you perfect.",
        "Life is tough, but so are you.",
        "Your voice matters. Speak up for what's right.",
        "Celebrate diversity and embrace inclusion.",
        "Be a rainbow in someone else's cloud.",
        "Your words can change the world.",
        "Kindness is a gift everyone can afford to give.",
        "The best way to predict the future is to create it.",
        "You are not alone; reach out if you need support.",
        "The world needs your unique perspective.",
        "Believe you can, and you're halfway there.",
        "Choose courage over fear.",
        "Every action in kindness is a step toward love.",
        "Life is short; make it sweet.",
        "Success is not final, failure is not fatal: It is the courage to continue that counts.",
        "You are enough just as you are.",
        "Dream big and dare to fail.",
        "A single act of kindness can change someone's entire day.",
        "You are capable of amazing things.",
        "Your potential is endless.",
        "Don't just exist; live.",
        "Be the reason someone believes in the goodness of people.",
        "Every person you meet is fighting a battle you know nothing about. Be kind. Always.",
        "Your attitude determines your direction.",
        "The only limit to our realization of tomorrow will be our doubts of today.",
        "You are somebody's reason to smile.",
        "Your vibe attracts your tribe.",
        "Create your sunshine on cloudy days.",
        "The best way to find yourself is to lose yourself in the service of others.",
        "Be a voice, not an echo.",
        "You have the power to change the world.",
        "Every moment is a fresh beginning.",
        "Your life does not get better by chance; it gets better by change.",
        "Chase the vision, not the money. The money will end up following you.",
        "Be fearless in the pursuit of what sets your soul on fire.",
        "Your life is what your thoughts make it.",
        "Success is not in what you have, but who you are.",
        "You are never too old to set another goal or to dream a new dream.",
        "Believe in yourself and all that you are. Know that there is something inside you that is greater than any obstacle.",
        "Life is 10% what happens to us and 90% how we react to it.",
        "You have within you right now, everything you need to deal with whatever the world can throw at you.",
        "Difficulties in life are intended to make us better, not bitter.",
        "Success is to be measured not so much by the position that one has reached in life as by the obstacles which he has overcome.",
        "Life is what happens when you're busy making other plans.",
        "Every man has his secret sorrows which the world knows not, and often times we call a man cold when he is only sad.",
        "Don't count the days, make the days count.",
        "You are never fully dressed without a smile.",
        "The best way to predict your future is to create it.",
        "Every accomplishment starts with the decision to try.",
        "What you get by achieving your goals is not as important as what you become by achieving your goals.",
        "In the middle of every difficulty lies opportunity.",
        "The best preparation for tomorrow is doing your best today.",
        "Every day may not be good, but there's something good in every day.",
        "The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart.",
        "Believe you can and you're halfway there.",
        "Don't watch the clock; do what it does. Keep going.",
        "Happiness is not something ready made. It comes from your own actions.",
        "The purpose of our lives is to be happy.",
        "In three words I can sum up everything I've learned about life: It goes on.",
        "Life is really simple, but we insist on making it complicated.",
        "Life is a journey that must be traveled no matter how bad the roads and accommodations.",
        "Life is like riding a bicycle. To keep your balance, you must keep moving.",
        "Life is what happens when you're busy making other plans.",
        "The purpose of our lives is to be happy.",
        "Life is what happens when you're busy making other plans.",
        "You only live once, but if you do it right, once is enough.",
        "Life is what we make it, always has been, always will be.",
        "Life is either a daring adventure or nothing at all.",
        "Life is like a coin. You can spend it any way you wish, but you only spend it once.",
        "Life is like photography. You need the negatives to develop.",
        "Life is short, and it's up to you to make it sweet.",
        "The best way to predict your future is to create it.",
        "Life is a succession of lessons which must be lived to be understood.",
        "Life is too important to be taken seriously.",
        "Life is what happens when you're busy making other plans.",
        "Life is really simple, but we insist on making it complicated.",
        "Life is like riding a bicycle. To keep your balance, you must keep moving.",
        "Life is what happens when you're busy making other plans.",
        "Life is what happens when you're busy making other plans.",
        "You only live once, but if you do it right, once is enough.",
        "Life is what we make it, always has been, always will be.",
        "Life is either a daring adventure or nothing at all.",
        "Life is like a coin. You can spend it any way you wish, but you only spend it once.",
        "Life is like photography. You need the negatives to develop.",
        "Life is short, and it's up to you to make it sweet."
    ];


    function logMessage() {
        const randomIndex = Math.floor(Math.random() * randomMessages.length);
        addMsg(randomMessages[randomIndex], true);
    }

    setInterval(logMessage, 2000);

    // Function to check if a given word is blacklisted
    function isBlacklisted(word) {
        const lowerCaseWord = word.toLowerCase();
        for (const blacklistedWord of blacklistWords) {
            if (lowerCaseWord.includes(blacklistedWord)) {
                return true;
            }
        }
        return false;
    }    
</script>
</html>